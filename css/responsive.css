/* ═══════════════════ Responsive Layout ═══════════════════ */

/* Coarse pointer (touch devices) */
@media (pointer: coarse) {
    #mobile-controls { display: block; }
    #info { display: none; }
    #crosshair { display: block; }
    .slot { width: 42px; height: 42px; }
    .slot canvas { width: 26px; height: 26px; }
    .slot .key { display: none; }
    .slot .item-icon { font-size: 22px; }
    #hotbar { padding: 8px 10px; gap: 4px; border-radius: 16px; }
    #stats { transform: scale(0.9); }
    #minimap { width: 120px; height: 75px; border-radius: 12px; right: 20px; bottom: 130px; top: auto; }
    #fullscreen-btn { right: 145px; width: 38px; height: 38px; }
    #fps { right: 195px; padding: 6px 10px; font-size: 10px; }
    #time-display { top: 100px; right: 15px; font-size: 10px; padding: 6px 10px; }
}

/* Small mobile screens */
@media (max-width: 480px) {
    .slot { width: 36px; height: 36px; border-radius: 10px; }
    .slot canvas { width: 22px; height: 22px; }
    .slot .count { font-size: 9px; }
    .slot .item-icon { font-size: 18px; }
    #hotbar { padding: 6px 8px; gap: 3px; border-radius: var(--hud-radius); }
    .joystick-thumb { width: 50px; height: 50px; }
    .action-btn { width: 60px; height: 60px; font-size: 26px; }
    .action-buttons { bottom: 25px; right: 25px; gap: 12px; }
    .action-row { gap: 12px; }
    .jump-container { bottom: 160px; left: 55px; }
    #minimap { width: 90px; height: 55px; }
    #stats { transform: scale(0.8); }
}

/* JS-driven mobile mode fallback */
html.is-mobile #mobile-controls { display: block; }
html.is-mobile #info { display: none; }
html.is-mobile #crosshair { display: block; }
html.is-mobile .slot { width: 42px; height: 42px; }
html.is-mobile .slot canvas { width: 26px; height: 26px; }
html.is-mobile .slot .key { display: none; }
html.is-mobile .slot .item-icon { font-size: 22px; }
html.is-mobile #hotbar { padding: 8px 10px; gap: 4px; border-radius: 16px; }
html.is-mobile #stats { transform: scale(0.9); }
html.is-mobile #minimap { width: 120px; height: 75px; border-radius: 12px; right: 20px; bottom: 130px; top: auto; }
html.is-mobile #fullscreen-btn { right: 145px; width: 38px; height: 38px; }
html.is-mobile #fps { right: 195px; padding: 6px 10px; font-size: 10px; }
html.is-mobile #time-display { top: 100px; right: 15px; font-size: 10px; padding: 6px 10px; }
html.is-mobile #mining-bar { min-width: 160px; padding: 9px 11px 9px 9px; border-radius: 13px; }

html.is-mobile #btn-craft-toggle {
    display: flex;
    top: 80px;
    left: 15px;
    width: 42px;
    height: 42px;
    border-radius: 12px;
    background: rgba(30, 30, 60, 0.8);
    backdrop-filter: blur(var(--glass-blur));
    border: 1px solid rgba(255, 255, 255, 0.2);
    justify-content: center;
    align-items: center;
    font-size: 20px;
    pointer-events: auto;
    color: #fff;
    z-index: 90;
}

html.is-mobile #crafting-panel { flex-direction: column; height: 90%; }
html.is-mobile .craft-list-container { border-right: none; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
html.is-mobile .craft-details { padding: 20px; }
html.is-mobile .preview-box { width: 60px; height: 60px; }

/* Portrait mode hint */
@media (orientation: portrait) {
    html.is-mobile #rotate-hint { display: flex; }
}

@media (orientation: portrait) and (max-width: 768px) {
    #rotate-hint { display: flex; }
}

/* Help panel device-specific */
#help-overlay .help-mobile { display: none; }
html.is-mobile #help-overlay .help-mobile { display: grid; }
html.is-mobile #help-overlay .help-desktop { display: none; }
